**Важно: Ноутбук проекта интерактивен и использует Plotly, Jupyter Widgets, которые не отображаются на GitHub. Чтобы просмотреть и взаимодействовать с ноутбуком, пожалуйста, нажмите на ссылку ниже:**  
<a href="https://colab.research.google.com/github/bestorlov1992/Projects/blob/main/projects/%D0%98%D1%81%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D0%B4%D1%91%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%D0%B7%D0%B0%D1%91%D0%BC%D1%89%D0%B8%D0%BA%D0%BE%D0%B2/creditworthiness_research.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a>
# Исследование надёжности заёмщиков
 
**Автор:**  
Григорьев Павел   

**Описание проекта:**   
Заказчик - кредитный отдел банка.  
Нужно разобраться, влияет ли семейное положение и количество детей клиента на факт погашения кредита в срок.  
Входные данные от банка - статистика о платёжеспособности клиентов.    
Результаты исследования будут учтены при построении модели кредитного скоринга - специальной системы, которая оценивает способность потенциального заёмщика вернуть кредит банку.  

**Цель:**   
Составить рекомендации для кредитного отдела банка, которые будут учтены при построении модели кредитного скоринга.  
Определить влияет ли семейное положение и количество детей клиента на факт погашения кредита в срок.  

**Источники данных:**   
Данные предоставлены кредитным отделом банка.

**Выводы:**
- Нет явной зависимости семейного положения и задолженности.
- У должников в среднем больше детей. В частности, среди должников женщины имеют больше детей в среднем, чем мужчины, а среди не должников мужчины имеют больше детей в среднем, чем женщины.
- Женщины чаще возвращают кредит, чем мужчины.
- Долги присутствуют у людей с разным доходом.
- Люди старше 60 лет реже других имеют долги.
- Кредиты, оформленные на цели, связанные с недвижимостью, реже других приводят к долгам.
- У должников средний возраст немного ниже для всех категорий семейного положения.
- Медианный доход у должников и не должников практически не отличается.
- Должники имеют ниже средний возраст как мужчины так и женщины. Ситуация сохраняется во всех группах дохода.
- Больше всего кредит берут на цели, связанные с недвижимостью, кроме людей в гражданском браке.
- Люди в гражданском браке чаще берут кредит на свадьбу.
- Доход является самым значимым признаком для предсказания задолженности.
- Люди от 30 до 50 лет имеют самый высокий средний доход.
- Только 5 процентов клиентов моложе 25 лет. Основная часть клиентов старше 30 лет.
- Меньше 5 % клиентов имеют зарплату меньше 63 тысяч. При этом 25 % имеют доход больше 200 тысяч.
- 58 % клиентов либо женаты, либо замужем. 19 % в гражданском браке. Можно сделать вывод что большинство в браке.
- Большинство клиентов женщины (66 процентов).
- 92 % клиентов не имеют долга.
- Чем меньше количество детей, тем больше значений с высоким доходом.
- Большая часть женатых имеет доход 100-200 тыс.
- На всех уровнях образования, кроме ученой степени, доход у мужчин выше.
- Цель получения кредита практически не зависит от среднего ежемесячного дохода.
- У мужчин, которые в браке или были в браке, количество детей больше, чем у женщин в той же категории.

**Аномалии и особенности в данных:**
- В датафрейме есть строки дубликаты. 54 строки. Меньше 1 % от всего датафрейма.  
- В столбце с количеством детей есть отрицательные значения. 47 штук. Меньше 1 процента от всего датафрейма. Также есть клиенты с 20 детьми.
- Колонка общий трудовой стаж содержит 74 % отрицательных значений. А также максимальное количество дней стажа больше 400 тысяч дней, это больше 1000 лет.
- В колонке возраста 101 нулевое значение.
- Колонка дохода имеет слишком много знаков после запятой.
- В колонке с образованием присутствуют одни и те же значения с разными регистрами. При этом в колонке с id образования все в порядке.   

**Результаты предобработки данных:**
- Удалили колонки с id образования и семейного статуса, так как нам для графиков лучше подойдут названия, а не id.
- Колонка со стажем имеет совершенно некорректные данные. Чтобы не внести искажение в анализ, удалим эту колонку.
- Удалили отрицательные значения в колонке с количеством детей, которые составляли 0,2% от общего количества записей в данных.
- Удалили нулевые значения в колонке с возрастом, которые составляли 0,5% от общего количества записей в данных.
- Удалили записи, где количество детей равно 20, которые составляли 0,35% от общего количества записей в данных.
- Заполнили пропуски в столбце с доходом медианным значением, учитывая категории образование, семейный статус, пол, занятость.
- Округлили значения дохода до целого.
- Удалили 1 запись, где пол равен XNA
- Создали дополнительную бинарную колонку, указывающую на наличие детей (1 - есть дети, 0 - нет детей).
- Сделали дополнительную колонку с возрастными категориями.  
- Сделали дополнительную колонку с категориями дохода.  
- Лематизировали колонку с целью кредита, чтобы получить категории целей кредита.  

**Результаты проверки гипотез:**  
- Гипотеза 1: У мужчин средний доход выше, чем у женщин  
 **Результат:**   На уровне значимости 0.05 гипотеза подтвердилась.
- Гипотеза 2: Цель получения кредита практически не зависит от среднего ежемесячного дохода  
 **Результат:** На уровне значимости 0.05 у нас нет оснований отвергнуть гипотезу.
- Гипотеза 3: Средний доход по семейному статусу примерно одинаковый, но у вдовцов отличается  
 **Результат:** На уровне значимости 0.05 гипотеза подтвердилась.
- Гипотеза 4: У должников в среднем больше детей  
 **Результат:** На уровне значимости 0.05 гипотеза подтвердилась.   
- Гипотеза 5: У должников средний возраст ниже  
 **Результат:** На уровне значимости 0.05 гипотеза подтвердилась. 95% доверительный интервал для разницы средних возрастов для должников и не должников равен (-inf, -2.74).  
- Гипотеза 6: Медианный доход у должников и не должников не отличается  
 **Результат:** На уровне значимости 0.05 нет оснований отвергнуть гипотезу. 95% доверительный интервал разницы между медианным доходом должников и не должников равен (-2648.05, 179.34).  
- Гипотеза 7: Наличие детей не влияет на возврат кредита в срок  
 **Результат:** На уровне значимости 0.05 гипотеза не подтвердилась.

**Рекомендации:**
- Добавить контроль данных, чтобы не дублировались значения с разными регистрами в колонке с образованием.
- Добавить уникальный идентификатор клиента, чтобы избежать дублирования строк.
- Добавить проверку на отрицательные значения и на слишком большие значения в количестве детей при загрузке данных.
- Выяснить откуда возникают отрицательные значения в трудовом стаже и добавить контроль ввода невалидных данных.
- Выяснить причину нулевых значений в колонке возраста и добавить проверку на нулевые значения при загрузке данных.
- Выяснить причину большого количества знаков после запятой в колонке дохода.